# SEO-Effekt 2：SEO分析与评分工具


## 项目简介
本仓库包含"SEO-Effekt 2"研究项目开发的软件工具。该工具可实现：  
- 抓取搜索引擎结果  
- 分析网页的SEO特征  
- 基于详细评分模型对网页优化水平进行分类  

本项目是德国研究基金会（DFG）资助的科研项目的一部分，项目全称：  
*"SEO-Effekt 2：多视角分析搜索引擎优化对搜索结果质量及用户行为的影响"*（资助编号：417552432）


## 目录
- [项目概述](#项目概述)  
- [核心功能](#核心功能)  
- [前置条件](#前置条件)  
- [安装与设置](#安装与设置)  
- [使用流程](#使用流程)  
- [SEO评分模型说明](#seo评分模型说明)  
- [项目研究背景](#项目研究背景)  
- [资助与链接](#资助与链接)  


## 项目概述
该工具专为以下目的设计：  
1. 针对特定查询集合，从Google和Bing收集搜索结果  
2. 基于全面的SEO指标评估抓取到的网页  
3. 计算SEO得分并对每个页面的优化水平进行分类  
4. 存储和导出收集的数据及分析结果  

工具可支持关于"SEO对搜索结果质量及用户行为影响"的实证研究。


## 核心功能
### 1. 自动化搜索引擎结果抓取（SERP Scraping）
- Google_de：抓取德国版Google的搜索结果  
- Bing_de：抓取德国版Bing的搜索结果  
- Google_de_Top10：仅抓取德国版Google的前10条结果  
- Bing_de_Top10：仅抓取德国版Bing的前10条结果  

### 2. 全面SEO分析
评估维度包括：技术SEO、内容质量、用户体验、元标签元素。

### 3. 研究管理
支持创建和管理不同的数据收集研究项目。

### 4. 后台处理
支持在后台运行抓取和分类任务，不影响前端操作。

### 5. 数据导出
可将分类后的搜索结果导出为文件。

### 6. 数据存储
采用SQLite数据库存储所有查询、结果和分析数据。


## 前置条件
使用前需确保环境满足：  
- Python 3（需添加到系统PATH）  
- Git（用于克隆仓库）  


## 安装与设置
### 步骤1：克隆仓库
```bash
git clone https://github.com/sebsuenkler/seo-effekt-2.git
cd seo-effekt-2
```

### 步骤2：创建并激活虚拟环境（推荐）
- **macOS/Linux**：  
  ```bash
  python3 -m venv venv
  source venv/bin/activate
  ```

- **Windows（Git Bash或类似终端）**：  
  ```bash
  python -m venv venv
  source venv/Scripts/activate
  ```

- **Windows（命令提示符）**：  
  ```cmd
  python -m venv venv
  venv\Scripts\activate.bat
  ```

### 步骤3：安装依赖包
```bash
pip install -r requirements.txt
```

### 步骤4：工具初始化
1. 创建SQLite数据库：  
   ```bash
   python install/setup_db.py
   ```

2. 安装爬虫依赖（包括Chrome驱动）：  
   ```bash
   python install/setup_scrapers.py
   ```  
   *注：该脚本会自动下载适配的Chrome驱动，需确保已安装Google Chrome浏览器。*


## 使用流程
### 1. 准备搜索查询
创建CSV文件（如`queries.csv`），每行一个搜索查询，示例：  
```
how to bake a cake
best python ide
latest tech news
```

### 2. 创建新研究并启动抓取
运行脚本创建研究项目，按提示操作（命名研究、选择搜索引擎等）：  
```bash
python insert_study.py
```  
*提示：当询问是否开始抓取时，输入"yes"并选择所需搜索引擎。*

### 3. 启动抓取与分类进程
- **前台运行**（输出显示在控制台）：  
  ```bash
  python start.py
  ```

- **后台运行**（Linux/macOS，日志输出到`tool.log`）：  
  ```bash
  nohup python start.py &
  ```

### 4. 查看任务状态
检查当前研究的抓取和分类任务是否完成：  
```bash
python check_status.py
```

### 5. 导出结果
任务完成后，导出数据库中的分类结果（通常生成CSV或Excel文件）：  
```bash
python export_results.py
```

### 6. 停止工具（如后台运行）
随时可停止后台进程，后续可重启并从断点继续：  
```bash
python stop.py
```


## SEO评分模型说明
SEO评分模型用于评估网站的搜索引擎优化水平，通过多维度分析给出综合得分。

### 评分类别及权重
模型将SEO因素分为4大类别，权重分配如下：

| 类别           | 权重  | 说明                                                                 |
|----------------|-------|----------------------------------------------------------------------|
| 技术SEO        | 35%   | 关注技术实现（如爬虫可访问性），权重最高因其对搜索引擎抓取和索引至关重要 |
| 内容质量       | 30%   | 评估内容结构与优化，权重次之因内容是SEO的核心                          |
| 用户体验       | 20%   | 衡量用户交互相关因素，权重中等因UX对SEO的影响日益显著                  |
| 元标签元素     | 15%   | 评估基础SEO标签，权重较低因其是基础但不足以单独决定优化水平            |


### 核心评估指标
#### 1. 技术SEO指标（共100分）
- HTTPS实现（20分）：URL是否使用HTTPS（有则+20，无则-20）  
- Robots.txt（20分）：服务器根目录是否存在该文件（有则+20，无则-20）  
- 站点地图（20分）：是否存在XML站点地图（有则+20）  
- 规范标签（20分）：HTML头部是否包含canonical标签（有则+20）  
- 结构化数据（20分）：是否包含JSON-LD或Schema.org标记（有则+20）  


#### 2. 内容质量指标（共100分）
- 内容长度（30分）：基于字数阈值评分（如≥1500字得满分）  
- 标题结构（20分）：H1、H2/H3、H4-H6的存在及合理性  
- 链接质量（20分）：内链/外链比例及总链接数  
- 关键词优化（30分）：关键词在URL、标题、描述、标题标签中的出现情况  


#### 3. 用户体验指标（共100分）
- 加载速度（40分）：基于页面加载时间评分（如<2秒得满分）  
- 移动适配（20分）：是否包含viewport元标签（有则+20）  
- 导航结构（20分）：是否存在导航菜单、页脚、表单等  
- SSL安全性（20分）：HTTPS验证（与技术SEO重叠，强调UX影响）  


#### 4. 元标签元素指标（共100分）
- 标题标签（30分）：基于最优长度（50-60字符得满分），通用标题扣分  
- 元描述（30分）：基于最优长度（150-160字符得满分），通用描述扣分  
- 社交标签（40分）：Open Graph和Twitter卡片标记（各50分得满分）  


### 加分项与调整
- 分析工具：检测到Google Analytics等工具+5分  
- SEO工具：检测到Yoast SEO、Rank Math等工具直接得100分  
- 特定工具加分：缓存工具（+10）、内容工具（+10）、社交工具（+5）等  


### 分类阈值
根据最终得分确定优化水平：  
- 极可能优化：≥75分  
- 可能优化：≥45分（且<75分）  
- 可能未优化：≥20分（且<45分）  
- 极可能未优化：<20分  


### 实现细节
- 使用BeautifulSoup和lxml解析HTML，适应不同网页结构  
- 各指标独立计算，单个指标失败不影响整体评分  
- 完善的错误处理确保系统对解析边缘情况的容错性  


## 项目研究背景
**项目全称**：SEO-Effekt 2：多视角分析搜索引擎优化对搜索结果质量及用户行为的影响  

### 研究目标
在第一阶段（资助编号417552432）基础上，主要目标包括：  
1. 扩展和完善搜索结果自动分析（增加因素、优化权重、引入机器学习）  
2. 开展大型实证研究，衡量SEO对舆论相关主题的影响  
3. 拓宽SEO理解，纳入非商业内容提供者和搜索引擎运营商的视角  


### 研究重点
第二阶段聚焦4个与舆论相关的内容领域：健康、环境、消费者保护、政治。通过创建主题相关的搜索集群，结合工具开展大规模实证研究，量化SEO的实际影响。

项目结合计算机科学、信息科学和社会科学方法，通过技术分析与社会科学研究结果的三角验证，深化对SEO的理解，为信息检索模型发展和消费者保护等实际问题提供参考。


## 资助与链接
- 资助方：德国研究基金会（DFG），项目编号417552432  
- 代码仓库：[https://github.com/sebsuenkler/seo-effekt-2](https://github.com/sebsuenkler/seo-effekt-2)  

